# Guess-the-Spot è©³ç´°å®Ÿè£…è¨ˆç”»

## ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›®æ¨™
ICPä¸Šã§å‹•ä½œã™ã‚‹åˆ†æ•£å‹ä½ç½®æ¨ç†ã‚²ãƒ¼ãƒ ã®MVPã‚’12é€±é–“ã§é–‹ç™º

## ğŸ“Š æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
- **Backend**: Motoko (ICP Canisters)
- **Frontend**: React + TypeScript (PWA)
- **Storage**: ICP Stable Memory
- **Map**: Mapbox GL JS
- **Auth**: Internet Identity

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend  â”‚â”€â”€â”€â”€â–¶â”‚  GameEngine   â”‚â”€â”€â”€â”€â–¶â”‚  RewardMint     â”‚
â”‚  (React PWA)â”‚     â”‚   Canister    â”‚     â”‚  (SPOT Token)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚                       â–²
                            â–¼                       â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
                    â”‚   PhotoNFT    â”‚               â”‚
                    â”‚   Canister    â”‚               â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
                            â”‚                       â”‚
                            â–¼                       â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
                    â”‚ ReputationOracle â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“… 12é€±é–“å®Ÿè£…ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

### ğŸš€ Phase 1: åŸºç¤ã‚¤ãƒ³ãƒ•ãƒ© (Week 1-4)

#### Week 1-2: SPOTãƒˆãƒ¼ã‚¯ãƒ³å®Ÿè£…
**ç›®æ¨™**: ICRC-1æº–æ‹ ã®å ±é…¬ãƒˆãƒ¼ã‚¯ãƒ³åŸºç›¤æ§‹ç¯‰

```motoko
// å®Ÿè£…å†…å®¹
- mint(), transfer(), balance() åŸºæœ¬é–¢æ•°
- approve(), transferFrom() å§”ä»»æ©Ÿèƒ½
- æ‰‹æ•°æ–™ãƒ¡ã‚«ãƒ‹ã‚ºãƒ  (0.01 SPOT/transaction)
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨ã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥
```

**æŠ€è¡“çš„è€ƒæ…®äº‹é …**:
- Principalãƒ™ãƒ¼ã‚¹ã®æ®‹é«˜ç®¡ç†
- stableå¤‰æ•°ã§ã®ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–
- GameEngineã®ã¿mintæ¨©é™ã‚’æŒã¤ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡

#### Week 3-4: PhotoNFT & ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸
**ç›®æ¨™**: å†™çœŸã®ã‚ªãƒ³ãƒã‚§ãƒ¼ãƒ³ä¿å­˜ã¨NFTåŒ–

```motoko
// å®Ÿè£…å†…å®¹
- ICRC-7æº–æ‹ NFTç™ºè¡Œæ©Ÿèƒ½
- 256KBãƒãƒ£ãƒ³ã‚¯åˆ†å‰²ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
- Stable Memoryç›´æ¥æ“ä½œã§ã‚³ã‚¹ãƒˆæœ€é©åŒ–
- ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç®¡ç† (lat/lon/azim/timestamp/quality)
```

**æŠ€è¡“çš„è€ƒæ…®äº‹é …**:
- Region APIã‚’ä½¿ç”¨ã—ãŸåŠ¹ç‡çš„ãªãƒ¡ãƒ¢ãƒªç®¡ç†
- 1MBå†™çœŸ = 4ãƒãƒ£ãƒ³ã‚¯ = ç´„$0.005/å¹´ã®ã‚³ã‚¹ãƒˆ
- perceptual hashã«ã‚ˆã‚‹é‡è¤‡æ¤œå‡ºæº–å‚™

### ğŸ® Phase 2: ã‚²ãƒ¼ãƒ ã‚³ã‚¢ (Week 5-8)

#### Week 5-6: GameEngineå®Ÿè£…
**ç›®æ¨™**: ä½ç½®æ¨ç†ã¨ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã®ä¸­æ ¸ãƒ­ã‚¸ãƒƒã‚¯

```motoko
// Vincenty formulaå®Ÿè£…
func calculateDistance(lat1: Float, lon1: Float, lat2: Float, lon2: Float) : Float {
    // åœ°çƒæ¥•å††ä½“ãƒ¢ãƒ‡ãƒ«ã«ã‚ˆã‚‹é«˜ç²¾åº¦è·é›¢è¨ˆç®—
    // ç²¾åº¦: Â±0.5mm
};

// ã‚¹ã‚³ã‚¢è¨ˆç®—
func calculateScore(distance: Float, azimuthError: Float) : Nat {
    let Sd = 1.0 - (distance - 25.0) / (1000.0 - 25.0);
    let Sphi = 1.0 - azimuthError / 30.0;
    return Int.abs(Float.toInt(100.0 * (Sd ** 1.3) * (Sphi ** 0.7)));
};
```

**å®Ÿè£…è©³ç´°**:
- ãƒ©ã‚¦ãƒ³ãƒ‰ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯ï¼ˆå†™çœŸãƒ©ãƒ³ãƒ€ãƒ é¸æŠï¼‰
- ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æ¨ç†ã®å—ä»˜ã¨æ¤œè¨¼
- å ±é…¬è¨ˆç®—ï¼ˆæ¼¸æ¸›ä¿‚æ•°B(t)é©ç”¨ï¼‰
- RewardMintå‘¼ã³å‡ºã—ã«ã‚ˆã‚‹è‡ªå‹•å ±é…¬åˆ†é…

#### Week 7: ReputationOracle
**ç›®æ¨™**: å†™çœŸå“è³ªç®¡ç†ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¿¡é ¼æ€§è©•ä¾¡

```motoko
// Quality Scoreæ›´æ–°
func updateQualityScore(photoId: Nat, hitRate: Float, badRatio: Float) : Float {
    let F = 1.0 - 0.7 * hitRate - 0.3 * badRatio;
    let alpha = 0.8;
    return alpha * oldScore + (1 - alpha) * F;
};
```

**BANåˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯**:
- soft-ban: Q < 0.15 && å‡ºé¡Œæ•° â‰¥ 30
- hard-ban: Q < 0.05 && bad_ratio > 0.5

#### Week 8: Canisteré–“é€šä¿¡
**ç›®æ¨™**: å„Canisterã®é€£æºå®Ÿè£…

```motoko
// Inter-canister calls
- GameEngine â†’ RewardMint: mintå ±é…¬
- GameEngine â†’ ReputationOracle: å“è³ªã‚¹ã‚³ã‚¢æ›´æ–°
- GameEngine â†’ PhotoNFT: ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—
- ReputationOracle â†’ PhotoNFT: qualityãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ›´æ–°
```

### ğŸŒ Phase 3: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (Week 9-11)

#### Week 9-10: åŸºç›¤æ§‹ç¯‰
**æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯**:
```json
{
  "build": "vite",
  "framework": "react",
  "language": "typescript",
  "auth": "@dfinity/auth-client",
  "agent": "@dfinity/agent",
  "map": "mapbox-gl",
  "state": "zustand",
  "style": "tailwindcss"
}
```

**å®Ÿè£…å†…å®¹**:
- Internet Identityçµ±åˆ
- Canisteræ¥ç¶šå±¤ï¼ˆActorç”Ÿæˆï¼‰
- åœ°å›³UIï¼ˆMapbox GL JSï¼‰
- PWAåŸºæœ¬è¨­å®š

#### Week 11: ç”»é¢å®Ÿè£…
**ä¸»è¦ç”»é¢**:
1. **å†™çœŸã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰**
   - EXIFä½ç½®æƒ…å ±æŠ½å‡º
   - æ–¹ä½å…¥åŠ›UI
   - ãƒãƒ£ãƒ³ã‚¯åˆ†å‰²ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
   - ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹è¡¨ç¤º

2. **ã‚²ãƒ¼ãƒ ãƒ—ãƒ¬ã‚¤**
   - å†™çœŸè¡¨ç¤º
   - åœ°å›³ãƒ”ãƒ³é…ç½®
   - æ–¹ä½æ¨å®šå…¥åŠ›
   - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¹ã‚³ã‚¢è¨ˆç®—

3. **çµ±è¨ˆãƒ»ã‚®ãƒ£ãƒ©ãƒªãƒ¼**
   - ãƒªãƒ¼ãƒ€ãƒ¼ãƒœãƒ¼ãƒ‰
   - NFTã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³è¡¨ç¤º
   - å€‹äººçµ±è¨ˆ

### ğŸ”’ Phase 4: å“è³ªä¿è¨¼ (Week 12)

#### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å®Ÿè£…
- GPS/æ–¹ä½ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼åŸºç›¤
- ãƒ¬ãƒ¼ãƒˆåˆ¶é™ï¼ˆ1åˆ†5å›ã¾ã§ï¼‰
- Sybilæ”»æ’ƒå¯¾ç­–ï¼ˆInternet Identity + Device Fingerprintï¼‰

#### ãƒ†ã‚¹ãƒˆæˆ¦ç•¥
```typescript
// ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™
- Unit Tests: 80%+ (Motoko: vessel, TS: vitest)
- Integration Tests: Canisteré–“é€šä¿¡ã®å…¨ãƒ‘ã‚¹
- E2E Tests: ä¸»è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼ (Playwright)
- Load Tests: 1000ä¸¦è¡Œãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ³å®š
```

## ğŸš¨ ãƒªã‚¹ã‚¯ã¨å¯¾ç­–

| ãƒªã‚¹ã‚¯ | å½±éŸ¿åº¦ | å¯¾ç­– |
|--------|--------|------|
| Stable Memoryå®¹é‡åˆ¶é™ | é«˜ | 8GBã¾ã§æ‹¡å¼µå¯èƒ½ã€å¤ã„å†™çœŸã®ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–åŒ– |
| Cycleæ¶ˆè²»éå¤š | ä¸­ | ãƒãƒƒãƒå‡¦ç†ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ |
| ä¸æ­£GPSæŠ•ç¨¿ | é«˜ | SafetyNet/App Attestçµ±åˆï¼ˆPhase 2ï¼‰ |
| UI/UXã®è¤‡é›‘ã• | ä¸­ | ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã«ã‚ˆã‚‹æ—©æœŸæ¤œè¨¼ |

## ğŸ“ˆ æˆåŠŸæŒ‡æ¨™ï¼ˆMVPï¼‰

- [ ] 100æšä»¥ä¸Šã®å†™çœŸã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æˆåŠŸ
- [ ] 1000ãƒ©ã‚¦ãƒ³ãƒ‰ä»¥ä¸Šã®ã‚²ãƒ¼ãƒ ãƒ—ãƒ¬ã‚¤
- [ ] å¹³å‡ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ < 2ç§’
- [ ] CycleåŠ¹ç‡: 1ã‚²ãƒ¼ãƒ  < 0.001 USD
- [ ] Quality Scoreæ©Ÿèƒ½ã«ã‚ˆã‚‹ä¸æ­£å†™çœŸé™¤å¤–ç‡ > 90%

## ğŸ”„ ç¶™ç¶šçš„æ”¹å–„ï¼ˆPost-MVPï¼‰

1. **Month 4**: DAOç§»è¡Œæº–å‚™ã€Treasuryç®¡ç†
2. **Month 5**: ãƒ¢ãƒã‚¤ãƒ«ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒª
3. **Month 6**: ARãƒ’ãƒ³ãƒˆæ©Ÿèƒ½ã€ãƒãƒ«ãƒè¨€èªå¯¾å¿œ

## ğŸ’» é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# Backend
dfx start --clean
dfx deploy --network local

# Frontend
npm install
npm run dev

# Testing
npm run test
dfx canister call reward_mint balance '(principal "test-user")'
```

---

**Next Step**: Week 1-2ã®SPOTãƒˆãƒ¼ã‚¯ãƒ³å®Ÿè£…ã‹ã‚‰é–‹å§‹